(()=>{var e={};e.id=373,e.ids=[373],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},98216:e=>{"use strict";e.exports=require("net")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},76039:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d}),r(2006),r(64968),r(35866);var s=r(23191),a=r(88716),n=r(37922),i=r.n(n),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["events",{children:["[eventId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2006)),"/Users/amrendravikramsingh/Downloads/eventManagement/src/app/events/[eventId]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,64968)),"/Users/amrendravikramsingh/Downloads/eventManagement/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/amrendravikramsingh/Downloads/eventManagement/src/app/events/[eventId]/page.tsx"],u="/events/[eventId]/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/events/[eventId]/page",pathname:"/events/[eventId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},47101:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,79404,23)),Promise.resolve().then(r.bind(r,40115)),Promise.resolve().then(r.bind(r,6846))},43810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},77506:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40115:(e,t,r)=>{"use strict";r.d(t,{default:()=>X});var s=r(10326),a=r(17577),n=r(35047),i=r(46226),o=r(41190),l=r(44794),d=r(91664);let c=(0,r(62881).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var u=r(43810),m=r(77506),p=r(76812),x=r(82561),f=r(48051),h=r(93095),g=r(45226),y=r(15594),v=r(52067),b=r(17124),j=r(2566),N=r(9815),w="Radio",[k,R]=(0,h.b)(w),[_,P]=k(w),C=a.forwardRef((e,t)=>{let{__scopeRadio:r,name:n,checked:i=!1,required:o,disabled:l,value:d="on",onCheck:c,form:u,...m}=e,[p,h]=a.useState(null),y=(0,f.e)(t,e=>h(e)),v=a.useRef(!1),b=!p||u||!!p.closest("form");return(0,s.jsxs)(_,{scope:r,checked:i,disabled:l,children:[(0,s.jsx)(g.WV.button,{type:"button",role:"radio","aria-checked":i,"data-state":M(i),"data-disabled":l?"":void 0,disabled:l,value:d,...m,ref:y,onClick:(0,x.M)(e.onClick,e=>{i||c?.(),b&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})}),b&&(0,s.jsx)(T,{control:p,bubbles:!v.current,name:n,value:d,checked:i,required:o,disabled:l,form:u,style:{transform:"translateX(-100%)"}})]})});C.displayName=w;var S="RadioIndicator",E=a.forwardRef((e,t)=>{let{__scopeRadio:r,forceMount:a,...n}=e,i=P(S,r);return(0,s.jsx)(N.z,{present:a||i.checked,children:(0,s.jsx)(g.WV.span,{"data-state":M(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})})});E.displayName=S;var T=e=>{let{control:t,checked:r,bubbles:n=!0,...i}=e,o=a.useRef(null),l=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),d=(0,j.t)(t);return a.useEffect(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==r&&t){let s=new Event("click",{bubbles:n});t.call(e,r),e.dispatchEvent(s)}},[l,r,n]),(0,s.jsx)("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function M(e){return e?"checked":"unchecked"}var I=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Z="RadioGroup",[q,O]=(0,h.b)(Z,[y.Pc,R]),D=(0,y.Pc)(),z=R(),[F,U]=q(Z),A=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,name:a,defaultValue:n,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:c,loop:u=!0,onValueChange:m,...p}=e,x=D(r),f=(0,b.gm)(c),[h,j]=(0,v.T)({prop:i,defaultProp:n,onChange:m});return(0,s.jsx)(F,{scope:r,name:a,required:o,disabled:l,value:h,onValueChange:j,children:(0,s.jsx)(y.fC,{asChild:!0,...x,orientation:d,dir:f,loop:u,children:(0,s.jsx)(g.WV.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:f,...p,ref:t})})})});A.displayName=Z;var L="RadioGroupItem",G=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,disabled:n,...i}=e,o=U(L,r),l=o.disabled||n,d=D(r),c=z(r),u=a.useRef(null),m=(0,f.e)(t,u),p=o.value===i.value,h=a.useRef(!1);return a.useEffect(()=>{let e=e=>{I.includes(e.key)&&(h.current=!0)},t=()=>h.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,s.jsx)(y.ck,{asChild:!0,...d,focusable:!l,active:p,children:(0,s.jsx)(C,{disabled:l,required:o.required,checked:p,...c,...i,name:o.name,ref:m,onCheck:()=>o.onValueChange(i.value),onKeyDown:(0,x.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,x.M)(i.onFocus,()=>{h.current&&u.current?.click()})})})});G.displayName=L;var V=a.forwardRef((e,t)=>{let{__scopeRadioGroup:r,...a}=e,n=z(r);return(0,s.jsx)(E,{...n,...a,ref:t})});V.displayName="RadioGroupIndicator";var H=r(51223);let $=a.forwardRef(({className:e,...t},r)=>s.jsx(A,{className:(0,H.cn)("grid gap-2",e),...t,ref:r}));$.displayName=A.displayName,a.forwardRef(({className:e,children:t,...r},a)=>s.jsx(G,{ref:a,className:(0,H.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:s.jsx(V,{className:"flex items-center justify-center",children:s.jsx(p.nQG,{className:"h-3.5 w-3.5 fill-primary"})})})).displayName=G.displayName;var W=r(56627);function X({eventId:e,upiId:t,qrCodeUrl:r,pricingTiers:p}){let x=(0,n.useRouter)(),{toast:f}=(0,W.pm)(),[h,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(null),[b,j]=(0,a.useState)(p[0]?.id||null),[N,w]=(0,a.useState)(""),[k,R]=(0,a.useState)(!1),_=()=>{let e=Date.now(),t=Math.random().toString(36).substring(2,8).toUpperCase();w(`TEST_${e}_${t}`),R(!0),f({title:"Test Transaction ID Generated",description:"You can use this ID for testing purposes."}),setTimeout(()=>R(!1),2e3)},P=async()=>{try{await navigator.clipboard.writeText(N),R(!0),f({title:"Copied!",description:"Transaction ID copied to clipboard."}),setTimeout(()=>R(!1),2e3)}catch(e){console.error("Failed to copy:",e),f({title:"Failed to copy",description:"Please try again or copy manually.",variant:"destructive"})}},C=async()=>{if(!b){v({error:"Please select a pricing tier first"});return}g(!0),v(null);try{let t=p.find(e=>e.id===b);if(!t)throw Error("Selected pricing tier not found");N||_();let r={eventId:e,pricingTierId:b,amount:t.price,transactionId:N,upiReference:`TEST_REF_${Date.now()}`,status:"pending"};console.log("Creating test participant with payload:",r);let s=await fetch("/api/submit-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await s.json();if(!s.ok)throw console.error("Error response:",a),Error(a.error||"Failed to create test participant");v({success:"Test participant created successfully! Check the manage events page to see the update."})}catch(e){console.error("Error creating test participant:",e),v({error:e instanceof Error?e.message:"Failed to create test participant"})}finally{g(!1)}},S=async t=>{if(t.preventDefault(),!b){v({error:"Please select a pricing tier"});return}if(!N){v({error:"Please enter or generate a transaction ID"});return}g(!0),v(null);try{let t=p.find(e=>e.id===b);if(!t)throw Error("Selected pricing tier not found");let r={eventId:e,pricingTierId:b,amount:t.price,transactionId:N,status:"pending"};console.log("Submitting payment with payload:",r);let s=await fetch("/api/submit-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await s.json();if(!s.ok)throw console.error("Error response:",a),Error(a.error||"Failed to submit payment");v({success:"Payment submitted successfully! It will be verified by the organizer."}),w(""),setTimeout(()=>{x.push(`/events/${e}/confirmation`),x.refresh()},2e3)}catch(e){console.error("Error submitting payment:",e),v({error:e instanceof Error?e.message:"An unexpected error occurred"})}finally{g(!1)}};return(0,s.jsxs)("form",{onSubmit:S,className:"space-y-8",children:[y&&(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-full text-sm",children:[y.success&&s.jsx("div",{className:"text-green-500 border-l-2 px-4 bg-green-50 py-2 rounded",children:y.success}),y.error&&s.jsx("div",{className:"text-red-500 border-l-2 px-4 bg-red-50 py-2 rounded",children:y.error})]}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-lg border p-6 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Select Pricing Tier"}),s.jsx($,{value:b||"",onValueChange:j,className:"grid gap-4 sm:grid-cols-2",children:p.map(e=>s.jsx("div",{className:`relative border rounded-xl p-6 cursor-pointer transition-all ${b===e.id?"border-blue-500 bg-blue-50 ring-2 ring-blue-200":"hover:border-gray-300 hover:shadow-md"}`,onClick:()=>j(e.id),children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("h4",{className:"font-semibold text-lg",children:e.name}),(0,s.jsxs)("span",{className:"font-bold text-blue-600 text-xl",children:["₹",e.price]})]}),e.description&&s.jsx("p",{className:"text-sm text-gray-600 flex-grow",children:e.description})]})},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-lg border p-6 shadow-sm",children:[s.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Payment Details"}),(0,s.jsxs)("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsx("div",{className:"space-y-4",children:(0,s.jsxs)("div",{className:"p-6 border rounded-xl bg-gray-50",children:[s.jsx("h4",{className:"font-semibold text-lg mb-3",children:"UPI Payment Information"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Scan the QR code or use the UPI ID below to make your payment."}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"bg-white p-3 rounded-xl mb-6 shadow-sm",children:s.jsx(i.default,{src:r,alt:"UPI QR Code",width:200,height:200,className:"rounded-lg"})}),(0,s.jsxs)("div",{className:"text-center w-full",children:[s.jsx("p",{className:"text-sm font-medium mb-2",children:"UPI ID:"}),s.jsx("div",{className:"bg-white px-4 py-2 rounded-lg border select-all text-sm font-mono",children:t})]})]})]})}),s.jsx("div",{className:"space-y-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx(l._,{htmlFor:"transactionId",className:"text-base",children:"Transaction ID *"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx(o.I,{id:"transactionId",value:N,onChange:e=>w(e.target.value),placeholder:"Enter UPI transaction ID",className:"h-11",required:!0}),s.jsx(d.z,{type:"button",variant:"outline",size:"icon",onClick:P,disabled:!N,className:"h-11 w-11",children:k?s.jsx(c,{className:"h-4 w-4"}):s.jsx(u.Z,{className:"h-4 w-4"})})]}),s.jsx(d.z,{type:"button",variant:"secondary",size:"sm",onClick:_,className:"w-full",children:"Generate Test Transaction ID"})]})})]})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-4",children:[s.jsx(d.z,{type:"submit",className:"flex-1 h-12 text-base",disabled:h||!b||!N,children:h?(0,s.jsxs)(s.Fragment,{children:[s.jsx(m.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting Payment..."]}):"Submit Payment"}),s.jsx(d.z,{type:"button",variant:"secondary",onClick:C,disabled:h||!b,className:"h-12 text-base",children:"Create Test Participant"})]})]})}},41190:(e,t,r)=>{"use strict";r.d(t,{I:()=>i});var s=r(10326),a=r(17577),n=r(51223);let i=a.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));i.displayName="Input"},44794:(e,t,r)=>{"use strict";r.d(t,{_:()=>d});var s=r(10326),a=r(17577),n=r(34478),i=r(79360),o=r(51223);let l=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef(({className:e,...t},r)=>s.jsx(n.Root,{ref:r,className:(0,o.cn)(l(),e),...t}));d.displayName=n.Root.displayName},82688:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},68648:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},14120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},98969:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},46707:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(27162).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},58585:(e,t,r)=>{"use strict";var s=r(61085);r.o(s,"notFound")&&r.d(t,{notFound:function(){return s.notFound}}),r.o(s,"redirect")&&r.d(t,{redirect:function(){return s.redirect}})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return i},RedirectType:function(){return s.RedirectType},notFound:function(){return a.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(83953),a=r(16399);class n extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class i extends URLSearchParams{append(){throw new n}delete(){throw new n}set(){throw new n}sort(){throw new n}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return a},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function a(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return l},getRedirectStatusCodeFromError:function(){return x},getRedirectTypeFromError:function(){return p},getURLFromRedirectError:function(){return m},isRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return d}});let a=r(54580),n=r(72934),i=r(8586),o="NEXT_REDIRECT";function l(e,t,r){void 0===r&&(r=i.RedirectStatusCode.TemporaryRedirect);let s=Error(o);s.digest=o+";"+t+";"+e+";"+r+";";let n=a.requestAsyncStorage.getStore();return n&&(s.mutableCookies=n.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.TemporaryRedirect)}function c(e,t){void 0===t&&(t="replace");let r=n.actionAsyncStorage.getStore();throw l(e,t,(null==r?void 0:r.isAction)?i.RedirectStatusCode.SeeOther:i.RedirectStatusCode.PermanentRedirect)}function u(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,a]=e.digest.split(";",4),n=Number(a);return t===o&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(n)&&n in i.RedirectStatusCode}function m(e){return u(e)?e.digest.split(";",3)[2]:null}function p(e){if(!u(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function x(e){if(!u(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2006:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var s=r(19510),a=r(66193),n=r(88217);let i=(0,r(68570).createProxy)(String.raw`/Users/amrendravikramsingh/Downloads/eventManagement/src/components/payment-form.tsx#default`);var o=r(27039),l=r(27162);let d=(0,l.Z)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]),c=(0,l.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var u=r(82688),m=r(46707),p=r(98969);let x=(0,l.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var f=r(14120),h=r(68648),g=r(57371),y=r(58585),v=r(95e3),b=r(59558),j=r(93804),N=r(71159);r(97049);var w=r(43025),k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=N.forwardRef((e,r)=>{let{asChild:a,...n}=e,i=a?w.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),R="horizontal",_=["horizontal","vertical"],P=N.forwardRef((e,t)=>{let{decorative:r,orientation:a=R,...n}=e,i=_.includes(a)?a:R;return(0,s.jsx)(k.div,{"data-orientation":i,...r?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...n,ref:t})});P.displayName="Separator";var C=r(40644);let S=N.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>s.jsx(P,{ref:n,decorative:r,orientation:t,className:(0,C.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...a}));async function E({params:e}){let t=await (0,v.e)(),{data:r,error:l}=await t.from("events").select(`
      id,
      title,
      description,
      upi_id,
      qr_code_url,
      event_date,
      registration_deadline,
      max_participants,
      status,
      organizer:users!organizer_id(name, email),
      participants:participants(count)
    `).eq("id",e.eventId).single();if(l||!r)return(0,y.notFound)();let N=r.organizer;if("active"!==r.status)return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{}),s.jsx("main",{className:"min-h-[80vh] flex items-center justify-center bg-gray-50",children:(0,s.jsxs)(j.Zb,{className:"w-full max-w-md p-8 text-center",children:[s.jsx("div",{className:"mb-6",children:s.jsx(d,{className:"h-12 w-12 text-gray-400 mx-auto"})}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Event Not Available"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"This event is no longer accepting registrations."}),s.jsx(g.default,{href:"/",children:(0,s.jsxs)(o.z,{className:"w-full",children:[s.jsx(c,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})]})}),s.jsx(n.Z,{})]});let{data:w,error:k}=await t.from("pricing_tiers").select("id, name, description, price").eq("event_id",e.eventId).order("price",{ascending:!0});k&&console.error("Error fetching pricing tiers:",k);let R=new Date(r.event_date),_=r.participants?.length||0,P=r.max_participants&&_>=r.max_participants;return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{}),s.jsx("main",{className:"min-h-screen bg-gray-50",children:s.jsx("div",{className:"container mx-auto px-4 py-12",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"mb-8",children:s.jsx(g.default,{href:"/",children:(0,s.jsxs)(o.z,{variant:"ghost",size:"sm",className:"hover:bg-white",children:[s.jsx(c,{className:"mr-2 h-4 w-4"}),"Back to Events"]})})}),(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)(j.Zb,{className:"p-8",children:[s.jsx("div",{className:"flex items-start justify-between mb-6",children:(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:r.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(b.C,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:r.status.charAt(0).toUpperCase()+r.status.slice(1)}),(0,s.jsxs)("span",{className:"text-sm text-gray-500",children:["Organized by ",N?.[0]?.name||"Anonymous"]})]})]})}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center p-3 bg-white rounded-lg border",children:[s.jsx(u.Z,{className:"h-5 w-5 text-blue-600 mr-3"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Date & Time"}),s.jsx("p",{className:"font-medium",children:R.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"})}),s.jsx("p",{className:"text-sm text-gray-600",children:R.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center p-3 bg-white rounded-lg border",children:[s.jsx(m.Z,{className:"h-5 w-5 text-green-600 mr-3"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Participants"}),(0,s.jsxs)("p",{className:"font-medium",children:[_," / ",r.max_participants||"∞"]}),s.jsx("p",{className:"text-sm text-gray-600",children:P?"Registration Closed":"Spots Available"})]})]})]}),r.description&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(p.Z,{className:"h-5 w-5 text-gray-400"}),s.jsx("h2",{className:"text-xl font-semibold",children:"About This Event"})]}),s.jsx(S,{}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:r.description})})]})]}),(0,s.jsxs)(j.Zb,{className:"p-6 border-2 border-blue-100 shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)("h2",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(d,{className:"h-5 w-5 text-blue-600"}),"Register Now"]}),(0,s.jsxs)(b.C,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[_," / ",r.max_participants||"∞"," Spots"]})]}),P?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsxs)("div",{className:"bg-yellow-50 rounded-lg p-6 mb-6 border border-yellow-200",children:[s.jsx(x,{className:"h-8 w-8 text-yellow-600 mx-auto mb-3"}),s.jsx("p",{className:"text-yellow-800 font-medium",children:"This event has reached its maximum capacity."}),s.jsx("p",{className:"text-yellow-700 text-sm mt-2",children:"Stay tuned for future events!"})]}),s.jsx(g.default,{href:"/",children:s.jsx(o.z,{variant:"outline",className:"w-full hover:bg-gray-50",children:"Browse Other Events"})})]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 mb-6 border border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:s.jsx(f.Z,{className:"h-5 w-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-blue-800 font-medium",children:"Registration is Open!"}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Complete your payment to secure your spot."})]})]})}),(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(h.Z,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Secure payment processing"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(h.Z,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Instant confirmation"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[s.jsx(h.Z,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Email confirmation"})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 border border-gray-200",children:(0,s.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["Event Date:"," ",s.jsx("span",{className:"font-medium text-gray-900",children:R.toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short"})})]})}),s.jsx(i,{eventId:r.id,upiId:r.upi_id,qrCodeUrl:r.qr_code_url,pricingTiers:w||[]})]})]})]})]})})}),s.jsx(n.Z,{})]})}S.displayName=P.displayName},59558:(e,t,r)=>{"use strict";r.d(t,{C:()=>o});var s=r(19510);r(71159);var a=r(46145),n=r(40644);let i=(0,a.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return s.jsx("div",{className:(0,n.cn)(i({variant:t}),e),...r})}},93804:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,Zb:()=>i,aY:()=>d,ll:()=>l});var s=r(19510),a=r(71159),n=r(40644);let i=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",e),...t}));i.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:(0,n.cn)("font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle",a.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let d=a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",a.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:(0,n.cn)(" flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},34478:(e,t,r)=>{"use strict";r.d(t,{Root:()=>o});var s=r(17577),a=r(45226),n=r(10326),i=s.forwardRef((e,t)=>(0,n.jsx)(a.WV.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,544,307,621,629,111,226,453,270],()=>r(76039));module.exports=s})();